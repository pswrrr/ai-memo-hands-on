# Story 2.3: 노트 목록 조회 및 페이지네이션

## Status
Done

## Story
**As a** 사용자,
**I want** 내가 작성한 노트들을 목록으로 조회하고 페이지네이션을 통해 효율적으로 탐색할 수 있도록,
**so that** 많은 노트들 중에서 원하는 노트를 빠르게 찾을 수 있다

## Acceptance Criteria
1. 사용자는 대시보드에서 자신의 모든 노트 목록을 볼 수 있다
2. 노트 목록은 페이지네이션으로 표시되며, 페이지당 10개 노트를 보여준다
3. 각 노트 항목에는 제목, 작성일, 수정일이 표시된다
4. 노트 제목이 30자를 초과하면 말줄임표(...)로 표시된다
5. 노트 목록은 최신순(기본값)으로 정렬된다
6. 페이지네이션 컨트롤이 하단에 표시된다
7. 빈 상태일 때는 적절한 안내 메시지와 새 노트 작성 버튼이 표시된다
8. 로딩 상태가 표시된다
9. 에러 발생 시 사용자에게 적절한 메시지가 표시된다

## Tasks / Subtasks
- [x] 노트 목록 조회 서버 액션 구현 (AC: 1, 2, 5)
  - [x] getNotes 서버 액션 생성
  - [x] 페이지네이션 로직 구현
  - [x] 사용자별 노트 필터링
  - [x] 최신순 정렬 구현
- [x] 노트 목록 UI 컴포넌트 구현 (AC: 3, 4, 6, 7, 8, 9)
  - [x] NoteList 컴포넌트 생성
  - [x] NoteCard 컴포넌트 생성
  - [x] Pagination 컴포넌트 생성
  - [x] EmptyState 컴포넌트 생성
  - [x] LoadingState 컴포넌트 생성
  - [x] ErrorState 컴포넌트 생성
- [x] 대시보드 페이지 업데이트 (AC: 1)
  - [x] 노트 목록 통합
  - [x] 새 노트 작성 버튼 추가
- [x] 테스트 구현 (AC: 1-9)
  - [x] 서버 액션 테스트
  - [x] 컴포넌트 테스트
  - [x] 통합 테스트

## Dev Notes

### Relevant Source Tree Info
- `app/dashboard/page.tsx` - 대시보드 메인 페이지
- `app/actions/notes.ts` - 노트 관련 서버 액션
- `lib/db/schema.ts` - 노트 데이터베이스 스키마
- `components/ui/` - shadcn/ui 컴포넌트들

### Testing
- **Test file location**: `__tests__/`
- **Test standards**: Jest + Testing Library 사용
- **Testing frameworks**: 
  - Unit tests: Jest
  - Component tests: @testing-library/react
  - Integration tests: Jest
- **Specific testing requirements**:
  - 서버 액션의 페이지네이션 로직 테스트
  - 컴포넌트의 로딩/에러/빈 상태 테스트
  - 사용자 인증 상태에 따른 데이터 필터링 테스트

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-01-14 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
Claude 3.5 Sonnet (2024-01-14)

### Debug Log References
- 서버 액션 구현 시 DrizzleORM 쿼리 최적화
- 페이지네이션 로직에서 offset 계산 검증
- UI 컴포넌트에서 반응형 그리드 레이아웃 적용

### Completion Notes List
- **서버 액션 구현**: getNotes 함수에서 페이지네이션과 사용자 인증을 통합하여 구현
- **UI 컴포넌트 설계**: 재사용 가능한 컴포넌트 구조로 NoteCard, Pagination, EmptyState 등 분리
- **상태 관리**: 로딩, 에러, 빈 상태를 명확히 구분하여 사용자 경험 개선
- **테스트 커버리지**: 서버 액션과 UI 컴포넌트에 대한 포괄적인 테스트 작성
- **접근성 고려**: 키보드 네비게이션과 스크린 리더 지원을 위한 시맨틱 HTML 사용

### File List
**생성된 파일:**
- `app/actions/notes.ts` - getNotes 서버 액션 추가
- `components/notes/NoteCard.tsx` - 노트 카드 컴포넌트
- `components/notes/Pagination.tsx` - 페이지네이션 컴포넌트
- `components/notes/EmptyState.tsx` - 빈 상태 컴포넌트
- `components/notes/LoadingState.tsx` - 로딩 상태 컴포넌트
- `components/notes/ErrorState.tsx` - 에러 상태 컴포넌트
- `components/notes/NoteList.tsx` - 노트 목록 메인 컴포넌트
- `components/ui/skeleton.tsx` - 스켈레톤 UI 컴포넌트
- `components/ui/badge.tsx` - 배지 UI 컴포넌트
- `__tests__/get-notes.test.ts` - 서버 액션 테스트
- `__tests__/NoteCard.test.tsx` - NoteCard 컴포넌트 테스트
- `__tests__/Pagination.test.tsx` - Pagination 컴포넌트 테스트
- `__tests__/NoteList.test.tsx` - NoteList 컴포넌트 테스트

**수정된 파일:**
- `app/dashboard/page.tsx` - 노트 목록 통합 및 새 노트 작성 버튼 추가

## QA Results
*Results from QA Agent review will be added here*
